= Cyber Ark Conjur integration tests

== Local container testing

The tests are run by default using containers.

Refer to the section below to test against a real CyberArk instance.

== Real CyberArk Vault API

To run the tests against the real CyberArk Conjur API, you need to

* Export your CyberArk real configuration
* Upload the policy from `src/test/resources/conf/policy/BotApp.yml`
* Configure environment variables as defined below

[source,shell]
----
export CQ_CONJUR_URL=http://localhost:8080/
export CQ_CONJUR_ACCOUNT=myConjurAccount
export CQ_CONJUR_READ_USER=host/BotApp/myDemoApp
export CQ_CONJUR_READ_USER_API_KEY=...
export CQ_CONJUR_READ_WRITE_USER=user/Dave@BotApp
export CQ_CONJUR_READ_WRITE_USER_API_KEY=...
# to avoid port conflict with quarkus (against opensource conjur)
export QUARKUS_HTTP_PORT=0
export QUARKUS_HTTPS_PORT=0
----
